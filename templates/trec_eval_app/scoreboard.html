{% extends 'base.html' %}

{% load staticfiles %}

{% block title %} Scoreboard {% endblock %}

{% block body_block %}

    <div class="page-header">
        <!titles the scoreboard correctly depending on what track scores are being viewed for>
        <h3>Scoreboard {% if this_track %} for {{this_track}} {%endif%}</h3>
    </div>

    <!dropdown button for selecting track to view scores for>
    <div class="dropdown">

        <button class="btn btn-default dropdown-toggle btn-xs" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">

        Select Track
        </button>
        <ul class="dropdown-menu">
            <!loop through tracks to fill dropdown menu>
            {% for track in tracks %}
            <li><a href="/trec_eval_app/scoreboard/{{track.slug}}">{{track.name}}</a></li>
            {% endfor %}
        </ul>
        <!spaces for formatting>
        &nbsp
        &nbsp
        &nbsp
        &nbsp
        &nbsp
        Click score type to order by:
    </div>


    <!creates a table, fills it with Name, MAP score, P10 Score, P20 Score and Description>
    <table id="scoreTable" class="pure-table">
        <thead>
        <tr>
            <th>Name</th>
            <th>MAP Score </th>
            <th>P10 Score</th>
            <th>P20 Score</th>
            <th>Description</th>

        </tr>
        </thead>
        <tbody>
        <!loops through runs and gets different names, descriptions and different scores for each>
        {% for run in runs %}
        <tr>
            <td>{{run.name}}</td>
            <td>{{run.MAPScore}}</td>
            <td>{{run.P10Score}}</td>
            <td>{{run.P20Score}}</td>
            <td>{{run.description}}</td>
        </tr>
        {% endfor %}

        </tbody>
    </table>
    <!table sorting algorithm>
    <script>
        $(document).ready(function()
        {
            $("#scoreTable").tablesorter({
        // sort on the first column and third column, order asc
        sortList: [[1,1]]
    }); ;

        }
    );

    </script>
{% endblock %}
